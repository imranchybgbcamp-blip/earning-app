<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Global Earning BD - Pro App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    
    <script src='//libtl.com/sdk.js' data-zone='10506581' data-sdk='show_10506581'></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap');
        :root { --bg: #0f172a; --card: #1e293b; --text: #ffffff; --primary: #38bdf8; --border: #334155; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Nunito', sans-serif; }
        body { background-color: var(--bg); color: var(--text); padding-bottom: 120px; overflow-x: hidden; }
        
        .profile-header { padding: 25px 15px; background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%); border-bottom: 1px solid var(--border); display: flex; align-items: center; }
        #user-photo { width: 55px; height: 55px; border-radius: 50%; border: 2px solid var(--primary); margin-right: 15px; }
        
        .page { display: none; padding: 15px; animation: slideUp 0.3s ease; }
        .page.active { display: block; }
        @keyframes slideUp { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        
        .stat-card { padding: 20px; border-radius: 15px; background: var(--card); border: 1px solid var(--border); text-align: center; margin-bottom: 15px; }
        .stat-card p { font-size: 1.5rem; font-weight: 800; color: var(--primary); }
        
        .action-btn { width: 100%; padding: 16px; font-size: 1.1rem; font-weight: 700; color: #fff; border: none; border-radius: 12px; cursor: pointer; background: var(--primary); box-shadow: 0 4px 15px rgba(56, 189, 248, 0.3); transition: 0.3s; }
        .action-btn:active { transform: scale(0.98); }
        
        .bottom-nav { position: fixed; bottom: 65px; width: 100%; max-width: 500px; left: 50%; transform: translateX(-50%); display: flex; justify-content: space-around; padding: 12px 0; background: #1e293b; border-top: 1px solid var(--border); z-index: 1000; }
        .nav-btn { background: none; border: none; color: #94a3b8; font-size: 0.8rem; cursor: pointer; text-align: center; }
        .nav-btn.active { color: var(--primary); }
        
        .ad-banner { position: fixed; bottom: 0; width: 100%; max-width: 500px; left: 50%; transform: translateX(-50%); height: 65px; background: #000; display: flex; justify-content: center; align-items: center; z-index: 1001; border-top: 1px solid var(--primary); }
        .input-box { width: 100%; padding: 15px; border-radius: 10px; background: #334155; border: 1px solid var(--border); color: #fff; margin-bottom: 15px; outline: none; }
    </style>
</head>
<body>

<div id="app">
    <header class="profile-header">
        <img id="user-photo" src="https://via.placeholder.com/60">
        <div>
            <h2 id="user-name">Loading...</h2>
            <p style="font-size: 0.9rem; color: var(--primary);">Wallet: <span id="user-points">0.00</span> TK</p>
        </div>
    </header>

    <script>
        show_10506581({ type: 'inApp', inAppSettings: { frequency: 2, capping: 0.1, interval: 30, timeout: 5, everyPage: false } }); 
    </script>

    <main>
        <div id="home-page" class="page active">
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom: 20px;">
                <div class="stat-card"><h3>Slot</h3><p id="slot-text">0/25</p></div>
                <div class="stat-card"><h3>Today</h3><p id="total-text">0</p></div>
            </div>
            <button class="action-btn" onclick="copyRef()"><i class="fas fa-user-plus"></i> Invite Friends</button>
        </div>

        <div id="tasks-page" class="page">
            <div class="stat-card">
                <i class="fas fa-play-circle" style="font-size: 3.5rem; color: var(--primary); margin-bottom: 15px;"></i>
                <h3>Rewarded Video Task</h3>
                <p style="font-size: 0.9rem; color: #94a3b8; margin: 10px 0 20px 0;">‡¶™‡ßÅ‡¶∞‡ßã ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡¶≤‡ßá ‡ß´ ‡¶™‡ßü‡¶∏‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶π‡¶¨‡ßá</p>
                <button id="watch-ad-btn" class="action-btn">Start Watching</button>
            </div>
        </div>

        <div id="withdraw-page" class="page">
            <div class="stat-card">
                <h3>Withdraw Earnings</h3>
                <p style="font-size: 0.8rem; color: #94a3b8; margin-bottom: 15px;">‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡ß™‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶π‡¶≤‡ßá‡¶á ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®</p>
                <input type="text" id="acc-num" placeholder="‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂/‡¶®‡¶ó‡¶¶ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞" class="input-box">
                <input type="number" id="w-amount" placeholder="‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ (TK)" class="input-box">
                <button class="action-btn" style="background: #22c55e;" onclick="requestWithdraw()">Submit Request</button>
            </div>
        </div>
    </main>

    <nav class="bottom-nav">
        <button class="nav-btn active" data-page="home-page"><i class="fas fa-home fa-lg"></i><br>Home</button>
        <button class="nav-btn" data-page="tasks-page"><i class="fas fa-tasks fa-lg"></i><br>Tasks</button>
        <button class="nav-btn" data-page="withdraw-page"><i class="fas fa-wallet fa-lg"></i><br>Wallet</button>
    </nav>

    <div class="ad-banner">
        <script type="text/javascript">
            atOptions = { 'key' : '844fbcd18257b08f493940b654828c18', 'format' : 'iframe', 'height' : 60, 'width' : 468, 'params' : {} };
        </script>
        <script type="text/javascript" src="https://www.highperformanceformat.com/844fbcd18257b08f493940b654828c18/invoke.js"></script>
    </div>
</div>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
const tg = window.Telegram.WebApp;
const SMART_LINK = "https://www.effectivegatecpm.com/qyiup1t1n?key=9520d844c44f73ddd794268a7d0cef08"; 
const BOT_TOKEN = "8546793925:AAFs2xfGFkutrydu4TRdVQxxjU1N0g3HaDU";
const CHANNEL_ID = "-1007677039712"; // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡¶®‡•§ ‡¶Ø‡¶¶‡¶ø ‡¶®‡¶æ ‡¶ú‡¶æ‡¶®‡ßá‡¶® ‡¶§‡¶¨‡ßá @userinfobot ‡¶è ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶´‡¶∞‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§

let state = JSON.parse(localStorage.getItem('user_data')) || { points: 0, ads: 0, total: 0 };

function updateUI() {
    document.getElementById('user-points').innerText = state.points.toFixed(2);
    document.getElementById('slot-text').innerText = state.ads + "/25";
    document.getElementById('total-text').innerText = state.total;
    localStorage.setItem('user_data', JSON.stringify(state));
}

tg.ready();
tg.expand();
const u = tg.initDataUnsafe.user;
if(u) {
    document.getElementById('user-name').innerText = u.first_name;
    document.getElementById('user-photo').src = u.photo_url || 'https://via.placeholder.com/60';
}

function giveReward() {
    state.points += 0.05; 
    state.ads++;
    state.total++;
    updateUI();
    tg.showAlert("‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡ß´ ‡¶™‡ßü‡¶∏‡¶æ ‡¶∞‡¶ø‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶Ø‡ßã‡¶ó ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§");
}

document.getElementById('watch-ad-btn').onclick = () => {
    show_10506581().then(() => {
        giveReward();
    }).catch(() => {
        // Monetag ‡¶´‡ßá‡¶≤ ‡¶ï‡¶∞‡¶≤‡ßá Adsterra Smart Link ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™
        window.open(SMART_LINK, '_blank');
        tg.showAlert("‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶π‡¶ö‡ßç‡¶õ‡ßá, ‡ß©‡ß¶ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®...");
        setTimeout(giveReward, 30000);
    });
};

async function requestWithdraw() {
    const amount = parseFloat(document.getElementById('w-amount').value);
    const num = document.getElementById('acc-num').value;
    if(!amount || amount < 40 || amount > state.points || !num) return tg.showAlert("‡¶∏‡¶†‡¶ø‡¶ï ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡¶ø‡¶®!");
    
    // ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ
    const msg = encodeURIComponent(`üö® ‡¶®‡¶§‡ßÅ‡¶® ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü!\n\nüë§ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞: ${u.first_name}\nüÜî ‡¶Ü‡¶á‡¶°‡¶ø: ${u.id}\nüìû ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞: ${num}\nüí∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£: ${amount} TK\n\n‚úÖ ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§`);
    
    try {
        await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHANNEL_ID}&text=${msg}`);
        state.points -= amount;
        updateUI();
        tg.showAlert("‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü‡¶ü‡¶ø ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§");
    } catch(e) {
        tg.showAlert("‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ! ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
    }
}

document.querySelectorAll('.nav-btn').forEach(b => {
    b.onclick = () => {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(b.dataset.page).classList.add('active');
        document.querySelectorAll('.nav-btn').forEach(n => n.classList.remove('active'));
        b.classList.add('active');
    };
});

function copyRef() {
    const ref = "https://t.me/globalearningbdbot?start=" + u.id;
    navigator.clipboard.writeText(ref);
    tg.showAlert("‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
}

updateUI();
</script>
</body>
</html>
